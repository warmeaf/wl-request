---
alwaysApply: true
---

# 命名规范 (Naming Conventions)

本文档定义了 wl-request 项目的命名规范，所有代码都应遵循这些规范。

## 目录和文件命名

### 目录命名

- **kebab-case**（短横线命名）：使用小写字母和短横线分隔
  - ✅ `adapter-axios`
  - ✅ `cache-adapter-memory`
  - ✅ `cache-adapter-indexeddb`
  - ❌ `adapterAxios`
  - ❌ `CacheAdapterMemory`

### 文件命名

- **kebab-case**（短横线命名）：使用小写字母和短横线分隔

  - ✅ `request-config.ts`
  - ✅ `cache-adapter.ts`
  - ❌ `RequestConfig.ts`
  - ❌ `requestConfig.ts`

- **特殊情况**：
  - 入口文件统一使用 `index.ts`
  - 测试文件使用 `*.test.ts` 或 `*.spec.ts`
  - 配置文件使用 `*.config.ts`（如 `vite.config.ts`）

## 变量和函数命名

### 变量命名

- **camelCase**（驼峰命名）：首字母小写
  - ✅ `requestConfig`
  - ✅ `cacheAdapter`
  - ✅ `retryCount`
  - ❌ `RequestConfig`
  - ❌ `request_config`
  - ❌ `request-config`

### 函数命名

- **camelCase**（驼峰命名）：首字母小写
  - ✅ `sendRequest()`
  - ✅ `getCache()`
  - ✅ `handleError()`
  - ❌ `SendRequest()`
  - ❌ `send_request()`

### 私有变量/函数

- 使用下划线前缀表示私有成员（如果需要在类中使用）
  - ✅ `_internalCache`
  - ✅ `_validateConfig()`

## 类型和接口命名

### 类型别名 (Type Alias)

- **PascalCase**（帕斯卡命名）：首字母大写
  - ✅ `RequestMethod`
  - ✅ `ResponseData`
  - ✅ `RetryStrategy`
  - ❌ `requestMethod`
  - ❌ `request_method`

### 接口 (Interface)

- **PascalCase**（帕斯卡命名）：首字母大写
  - ✅ `RequestAdapter`
  - ✅ `CacheAdapter`
  - ✅ `RequestConfig`
  - ✅ `Response`
  - ❌ `requestAdapter`
  - ❌ `request_adapter`

### 接口命名约定

- 接口名称应该清晰描述其用途
- 适配器接口以 `Adapter` 结尾：`RequestAdapter`、`CacheAdapter`
- 配置接口以 `Config` 结尾：`RequestConfig`、`RetryConfig`、`CacheConfig`
- Hook 接口以 `Hook` 结尾：`OnBeforeHook`、`OnSuccessHook`
- 错误接口以 `Error` 结尾：`RequestError`

## 类和枚举命名

### 类 (Class)

- **PascalCase**（帕斯卡命名）：首字母大写
  - ✅ `RequestClient`
  - ✅ `CacheManager`
  - ❌ `requestClient`
  - ❌ `request_client`

### 枚举 (Enum)

- **PascalCase**（帕斯卡命名）：首字母大写
  - 枚举值使用 **UPPER_SNAKE_CASE**（大写下划线）
  - ✅ `enum RequestMethod { GET, POST, PUT }`
  - ✅ `enum ErrorCode { NETWORK_ERROR, TIMEOUT_ERROR }`
  - ❌ `enum requestMethod { get, post }`

## 常量命名

### 常量

- **UPPER_SNAKE_CASE**（大写下划线）：全大写，单词间用下划线分隔
  - ✅ `MAX_RETRY_COUNT`
  - ✅ `DEFAULT_TIMEOUT`
  - ✅ `CACHE_PREFIX`
  - ❌ `maxRetryCount`
  - ❌ `MaxRetryCount`

### 只读对象常量

- 使用 **camelCase** 命名，但内容不可变
  - ✅ `const defaultConfig = { ... } as const`

## 泛型参数命名

### 泛型类型参数

- **单个大写字母**：通常使用 `T`、`K`、`V`、`E` 等
  - ✅ `Response<T>`
  - ✅ `RequestConfig<T>`
  - ✅ `CacheAdapter<K, V>`
  - ❌ `Response<Data>`
  - ❌ `RequestConfig<Config>`

### 多个泛型参数

- 使用有意义的单个大写字母或简短描述
  - ✅ `Map<K, V>`
  - ✅ `Promise<T>`

## 包和模块命名

### 包命名

- **kebab-case**（短横线命名）：使用小写字母和短横线分隔
  - ✅ `@wl-request/core`
  - ✅ `@wl-request/adapter-axios`
  - ✅ `@wl-request/cache-adapter-memory`
  - ❌ `@wl-request/Core`
  - ❌ `@wl-request/adapterAxios`

## 命名最佳实践

### 1. 描述性命名

- ✅ `getUserById()` - 清晰表达意图
- ❌ `get()` - 过于模糊
- ❌ `getUserByIdAndReturnUserObject()` - 过于冗长

### 2. 避免缩写

- ✅ `configuration` 而不是 `config`（除非是通用缩写如 `config`、`id`、`url`）
- ✅ `request` 而不是 `req`
- ✅ `response` 而不是 `res`

### 3. 布尔值命名

- 使用 `is`、`has`、`should`、`can` 等前缀
  - ✅ `isLoading`
  - ✅ `hasError`
  - ✅ `shouldRetry`
  - ✅ `canCache`
  - ❌ `loading`
  - ❌ `error`

### 4. 事件处理函数命名

- 使用 `handle`、`on` 前缀
  - ✅ `handleRequest()`
  - ✅ `onSuccess()`
  - ✅ `onError()`
  - ❌ `requestHandler()`
  - ❌ `successCallback()`

### 5. 异步函数命名

- 可以使用 `async` 前缀（可选），但通常不需要
  - ✅ `fetchData()` - 从返回类型可以看出是异步
  - ✅ `async fetchData()` - 也可以显式标记

## 命名检查清单

在提交代码前，请检查：

- [ ] 所有变量和函数使用 `camelCase`
- [ ] 所有类型和接口使用 `PascalCase`
- [ ] 所有常量使用 `UPPER_SNAKE_CASE`
- [ ] 所有目录和文件使用 `kebab-case`
- [ ] 接口名称清晰描述其用途
- [ ] 函数名称清晰表达其功能
- [ ] 避免使用缩写（除非是通用缩写）
- [ ] 布尔值使用 `is`/`has`/`should`/`can` 前缀

## 示例

```typescript
// ✅ 正确的命名示例

// 类型和接口
type RequestMethod = 'GET' | 'POST'
interface RequestConfig<T> {
  url: string
  method?: RequestMethod
}

// 变量和函数
const requestConfig: RequestConfig<unknown> = {
  url: '/api/users',
}

function sendRequest<T>(config: RequestConfig<T>): Promise<Response<T>> {
  // ...
}

// 常量
const MAX_RETRY_COUNT = 3
const DEFAULT_TIMEOUT = 5000

// 类
class RequestClient {
  private _internalCache: Map<string, unknown> = new Map()

  public async request<T>(config: RequestConfig<T>): Promise<Response<T>> {
    // ...
  }
}

// 枚举
enum ErrorCode {
  NETWORK_ERROR = 'NETWORK_ERROR',
  TIMEOUT_ERROR = 'TIMEOUT_ERROR',
}
```
